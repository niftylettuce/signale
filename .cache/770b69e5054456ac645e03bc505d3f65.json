{"dependencies":[{"name":"/Users/jack/Projects/signale/node_modules/p-locate/package.json","includedInParent":true,"mtime":1480310719000},{"name":"/Users/jack/Projects/signale/package.json","includedInParent":true,"mtime":1529549321000},{"name":"/Users/jack/Projects/signale/.babelrc","includedInParent":true,"mtime":1529549305000},{"name":"p-limit","loc":{"line":2,"column":23},"parent":"/Users/jack/Projects/signale/node_modules/p-locate/index.js","resolved":"/Users/jack/Projects/signale/node_modules/p-limit/index.js"}],"generated":{"js":"\"use strict\";const e=require(\"p-limit\");class r extends Error{constructor(e){super(),this.value=e}}const s=e=>Promise.all(e).then(e=>!0===e[1]&&Promise.reject(new r(e[0])));module.exports=((t,c,o)=>{o=Object.assign({concurrency:1/0,preserveOrder:!0},o);const n=e(o.concurrency),i=Array.from(t).map(e=>[e,n(()=>Promise.resolve(e).then(c))]),a=e(o.preserveOrder?1:1/0);return Promise.all(i.map(e=>a(()=>s(e)))).then(()=>{}).catch(e=>e instanceof r?e.value:Promise.reject(e))});","map":{"mappings":[{"source":"../node_modules/p-locate/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/p-locate/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/p-locate/index.js","name":"pLimit","original":{"line":2,"column":6},"generated":{"line":1,"column":19}},{"source":"../node_modules/p-locate/index.js","name":"require","original":{"line":2,"column":15},"generated":{"line":1,"column":21}},{"source":"../node_modules/p-locate/index.js","original":{"line":2,"column":23},"generated":{"line":1,"column":29}},{"source":"../node_modules/p-locate/index.js","name":"EndError","original":{"line":4,"column":6},"generated":{"line":1,"column":46}},{"source":"../node_modules/p-locate/index.js","name":"Error","original":{"line":4,"column":23},"generated":{"line":1,"column":56}},{"source":"../node_modules/p-locate/index.js","name":"value","original":{"line":5,"column":13},"generated":{"line":1,"column":62}},{"source":"../node_modules/p-locate/index.js","name":"value","original":{"line":5,"column":13},"generated":{"line":1,"column":74}},{"source":"../node_modules/p-locate/index.js","original":{"line":6,"column":2},"generated":{"line":1,"column":77}},{"source":"../node_modules/p-locate/index.js","name":"value","original":{"line":7,"column":7},"generated":{"line":1,"column":85}},{"source":"../node_modules/p-locate/index.js","name":"value","original":{"line":7,"column":7},"generated":{"line":1,"column":90}},{"source":"../node_modules/p-locate/index.js","name":"value","original":{"line":7,"column":15},"generated":{"line":1,"column":96}},{"source":"../node_modules/p-locate/index.js","original":{"line":12,"column":0},"generated":{"line":1,"column":99}},{"source":"../node_modules/p-locate/index.js","name":"finder","original":{"line":12,"column":6},"generated":{"line":1,"column":105}},{"source":"../node_modules/p-locate/index.js","name":"el","original":{"line":12,"column":15},"generated":{"line":1,"column":107}},{"source":"../node_modules/p-locate/index.js","name":"Promise","original":{"line":12,"column":21},"generated":{"line":1,"column":110}},{"source":"../node_modules/p-locate/index.js","name":"all","original":{"line":12,"column":29},"generated":{"line":1,"column":118}},{"source":"../node_modules/p-locate/index.js","name":"el","original":{"line":12,"column":33},"generated":{"line":1,"column":122}},{"source":"../node_modules/p-locate/index.js","name":"then","original":{"line":12,"column":37},"generated":{"line":1,"column":125}},{"source":"../node_modules/p-locate/index.js","name":"val","original":{"line":12,"column":42},"generated":{"line":1,"column":130}},{"source":"../node_modules/p-locate/index.js","original":{"line":12,"column":60},"generated":{"line":1,"column":134}},{"source":"../node_modules/p-locate/index.js","name":"val","original":{"line":12,"column":49},"generated":{"line":1,"column":138}},{"source":"../node_modules/p-locate/index.js","original":{"line":12,"column":53},"generated":{"line":1,"column":140}},{"source":"../node_modules/p-locate/index.js","name":"Promise","original":{"line":12,"column":68},"generated":{"line":1,"column":144}},{"source":"../node_modules/p-locate/index.js","name":"reject","original":{"line":12,"column":76},"generated":{"line":1,"column":152}},{"source":"../node_modules/p-locate/index.js","original":{"line":12,"column":83},"generated":{"line":1,"column":159}},{"source":"../node_modules/p-locate/index.js","name":"EndError","original":{"line":12,"column":87},"generated":{"line":1,"column":163}},{"source":"../node_modules/p-locate/index.js","name":"val","original":{"line":12,"column":96},"generated":{"line":1,"column":165}},{"source":"../node_modules/p-locate/index.js","original":{"line":12,"column":100},"generated":{"line":1,"column":167}},{"source":"../node_modules/p-locate/index.js","name":"module","original":{"line":14,"column":0},"generated":{"line":1,"column":173}},{"source":"../node_modules/p-locate/index.js","name":"exports","original":{"line":14,"column":7},"generated":{"line":1,"column":180}},{"source":"../node_modules/p-locate/index.js","original":{"line":14,"column":17},"generated":{"line":1,"column":188}},{"source":"../node_modules/p-locate/index.js","name":"iterable","original":{"line":14,"column":18},"generated":{"line":1,"column":190}},{"source":"../node_modules/p-locate/index.js","name":"tester","original":{"line":14,"column":28},"generated":{"line":1,"column":192}},{"source":"../node_modules/p-locate/index.js","name":"opts","original":{"line":14,"column":36},"generated":{"line":1,"column":194}},{"source":"../node_modules/p-locate/index.js","name":"Object","original":{"line":15,"column":8},"generated":{"line":1,"column":199}},{"source":"../node_modules/p-locate/index.js","name":"Object","original":{"line":15,"column":8},"generated":{"line":1,"column":201}},{"source":"../node_modules/p-locate/index.js","name":"assign","original":{"line":15,"column":15},"generated":{"line":1,"column":208}},{"source":"../node_modules/p-locate/index.js","name":"Infinity","original":{"line":16,"column":15},"generated":{"line":1,"column":216}},{"source":"../node_modules/p-locate/index.js","name":"Infinity","original":{"line":16,"column":15},"generated":{"line":1,"column":228}},{"source":"../node_modules/p-locate/index.js","name":"Infinity","original":{"line":16,"column":15},"generated":{"line":1,"column":230}},{"source":"../node_modules/p-locate/index.js","original":{"line":17,"column":17},"generated":{"line":1,"column":232}},{"source":"../node_modules/p-locate/index.js","original":{"line":17,"column":17},"generated":{"line":1,"column":247}},{"source":"../node_modules/p-locate/index.js","name":"opts","original":{"line":18,"column":4},"generated":{"line":1,"column":250}},{"source":"../node_modules/p-locate/index.js","name":"limit","original":{"line":20,"column":7},"generated":{"line":1,"column":253}},{"source":"../node_modules/p-locate/index.js","name":"limit","original":{"line":20,"column":7},"generated":{"line":1,"column":259}},{"source":"../node_modules/p-locate/index.js","name":"pLimit","original":{"line":20,"column":15},"generated":{"line":1,"column":261}},{"source":"../node_modules/p-locate/index.js","name":"opts","original":{"line":20,"column":22},"generated":{"line":1,"column":263}},{"source":"../node_modules/p-locate/index.js","name":"concurrency","original":{"line":20,"column":27},"generated":{"line":1,"column":265}},{"source":"../node_modules/p-locate/index.js","name":"items","original":{"line":23,"column":7},"generated":{"line":1,"column":278}},{"source":"../node_modules/p-locate/index.js","name":"Array","original":{"line":23,"column":15},"generated":{"line":1,"column":280}},{"source":"../node_modules/p-locate/index.js","name":"from","original":{"line":23,"column":21},"generated":{"line":1,"column":286}},{"source":"../node_modules/p-locate/index.js","name":"iterable","original":{"line":23,"column":26},"generated":{"line":1,"column":291}},{"source":"../node_modules/p-locate/index.js","name":"map","original":{"line":23,"column":36},"generated":{"line":1,"column":294}},{"source":"../node_modules/p-locate/index.js","name":"el","original":{"line":23,"column":40},"generated":{"line":1,"column":298}},{"source":"../node_modules/p-locate/index.js","name":"el","original":{"line":23,"column":47},"generated":{"line":1,"column":302}},{"source":"../node_modules/p-locate/index.js","name":"limit","original":{"line":23,"column":51},"generated":{"line":1,"column":304}},{"source":"../node_modules/p-locate/index.js","original":{"line":23,"column":57},"generated":{"line":1,"column":306}},{"source":"../node_modules/p-locate/index.js","name":"Promise","original":{"line":23,"column":63},"generated":{"line":1,"column":310}},{"source":"../node_modules/p-locate/index.js","name":"resolve","original":{"line":23,"column":71},"generated":{"line":1,"column":318}},{"source":"../node_modules/p-locate/index.js","name":"el","original":{"line":23,"column":79},"generated":{"line":1,"column":326}},{"source":"../node_modules/p-locate/index.js","name":"then","original":{"line":23,"column":83},"generated":{"line":1,"column":329}},{"source":"../node_modules/p-locate/index.js","name":"tester","original":{"line":23,"column":88},"generated":{"line":1,"column":334}},{"source":"../node_modules/p-locate/index.js","name":"checkLimit","original":{"line":26,"column":7},"generated":{"line":1,"column":340}},{"source":"../node_modules/p-locate/index.js","name":"pLimit","original":{"line":26,"column":20},"generated":{"line":1,"column":342}},{"source":"../node_modules/p-locate/index.js","name":"opts","original":{"line":26,"column":27},"generated":{"line":1,"column":344}},{"source":"../node_modules/p-locate/index.js","name":"preserveOrder","original":{"line":26,"column":32},"generated":{"line":1,"column":346}},{"source":"../node_modules/p-locate/index.js","original":{"line":26,"column":48},"generated":{"line":1,"column":360}},{"source":"../node_modules/p-locate/index.js","name":"Infinity","original":{"line":26,"column":52},"generated":{"line":1,"column":362}},{"source":"../node_modules/p-locate/index.js","name":"Infinity","original":{"line":26,"column":52},"generated":{"line":1,"column":364}},{"source":"../node_modules/p-locate/index.js","name":"Promise","original":{"line":28,"column":8},"generated":{"line":1,"column":367}},{"source":"../node_modules/p-locate/index.js","name":"Promise","original":{"line":28,"column":8},"generated":{"line":1,"column":374}},{"source":"../node_modules/p-locate/index.js","name":"all","original":{"line":28,"column":16},"generated":{"line":1,"column":382}},{"source":"../node_modules/p-locate/index.js","name":"items","original":{"line":28,"column":20},"generated":{"line":1,"column":386}},{"source":"../node_modules/p-locate/index.js","name":"map","original":{"line":28,"column":26},"generated":{"line":1,"column":388}},{"source":"../node_modules/p-locate/index.js","name":"el","original":{"line":28,"column":30},"generated":{"line":1,"column":392}},{"source":"../node_modules/p-locate/index.js","name":"checkLimit","original":{"line":28,"column":36},"generated":{"line":1,"column":395}},{"source":"../node_modules/p-locate/index.js","original":{"line":28,"column":47},"generated":{"line":1,"column":397}},{"source":"../node_modules/p-locate/index.js","name":"finder","original":{"line":28,"column":53},"generated":{"line":1,"column":401}},{"source":"../node_modules/p-locate/index.js","name":"el","original":{"line":28,"column":60},"generated":{"line":1,"column":403}},{"source":"../node_modules/p-locate/index.js","name":"then","original":{"line":29,"column":3},"generated":{"line":1,"column":409}},{"source":"../node_modules/p-locate/index.js","original":{"line":29,"column":8},"generated":{"line":1,"column":414}},{"source":"../node_modules/p-locate/index.js","name":"catch","original":{"line":30,"column":3},"generated":{"line":1,"column":422}},{"source":"../node_modules/p-locate/index.js","name":"err","original":{"line":30,"column":9},"generated":{"line":1,"column":428}},{"source":"../node_modules/p-locate/index.js","name":"err","original":{"line":30,"column":16},"generated":{"line":1,"column":431}},{"source":"../node_modules/p-locate/index.js","name":"EndError","original":{"line":30,"column":31},"generated":{"line":1,"column":444}},{"source":"../node_modules/p-locate/index.js","name":"err","original":{"line":30,"column":42},"generated":{"line":1,"column":446}},{"source":"../node_modules/p-locate/index.js","name":"value","original":{"line":30,"column":46},"generated":{"line":1,"column":448}},{"source":"../node_modules/p-locate/index.js","name":"Promise","original":{"line":30,"column":54},"generated":{"line":1,"column":454}},{"source":"../node_modules/p-locate/index.js","name":"reject","original":{"line":30,"column":62},"generated":{"line":1,"column":462}},{"source":"../node_modules/p-locate/index.js","name":"err","original":{"line":30,"column":69},"generated":{"line":1,"column":469}}],"sources":{"../node_modules/p-locate/index.js":"'use strict';\nconst pLimit = require('p-limit');\n\nclass EndError extends Error {\n\tconstructor(value) {\n\t\tsuper();\n\t\tthis.value = value;\n\t}\n}\n\n// the input can also be a promise, so we `Promise.all()` them both\nconst finder = el => Promise.all(el).then(val => val[1] === true && Promise.reject(new EndError(val[0])));\n\nmodule.exports = (iterable, tester, opts) => {\n\topts = Object.assign({\n\t\tconcurrency: Infinity,\n\t\tpreserveOrder: true\n\t}, opts);\n\n\tconst limit = pLimit(opts.concurrency);\n\n\t// start all the promises concurrently with optional limit\n\tconst items = Array.from(iterable).map(el => [el, limit(() => Promise.resolve(el).then(tester))]);\n\n\t// check the promises either serially or concurrently\n\tconst checkLimit = pLimit(opts.preserveOrder ? 1 : Infinity);\n\n\treturn Promise.all(items.map(el => checkLimit(() => finder(el))))\n\t\t.then(() => {})\n\t\t.catch(err => err instanceof EndError ? err.value : Promise.reject(err));\n};\n"},"lineCount":null}},"hash":"b0734561fad616fe116dd2ce7a20446b","cacheData":{"env":{}},"id":79}